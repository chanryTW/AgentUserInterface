# AG-UI Demo å°ˆæ¡ˆ (Agentic User Interface)

é€™æ˜¯ä¸€å€‹å±•ç¤º **AG-UI (Agentic User Interface)** æ¦‚å¿µçš„ Demo å°ˆæ¡ˆã€‚
å®ƒæ¼”ç¤ºäº†å¦‚ä½•è®“ AI Agent (Gemini) æ ¹æ“šå°è©±å…§å®¹ï¼Œå‹•æ…‹æ±ºå®šä¸¦æ¸²æŸ“æœ€é©åˆçš„å‰ç«¯ UI å…ƒä»¶ï¼ˆå¦‚è¡¨æ ¼ã€è¡¨å–®ã€å¡ç‰‡ç­‰ï¼‰ï¼Œè€Œä¸åƒ…åƒ…æ˜¯è¼¸å‡ºæ–‡å­—ã€‚

æœ¬å°ˆæ¡ˆ**ä¸ä¾è³´ CopilotKit**ï¼Œè€Œæ˜¯æ‰‹å‹•å¯¦ä½œäº† AG-UI çš„å”å®šèˆ‡äº‹ä»¶ä¸²æµæ©Ÿåˆ¶ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹è‰²

*   **å‹•æ…‹ UI æ¸²æŸ“**ï¼šAgent å¯æ ¹æ“šæ„åœ–å›å‚³ `update_ui` äº‹ä»¶ï¼Œå‰ç«¯å³æ™‚æ¸²æŸ“å°æ‡‰å…ƒä»¶ã€‚
*   **Gemini é©…å‹•**ï¼šå¾Œç«¯æ•´åˆ Google Gemini æ¨¡å‹ï¼Œå…·å‚™çœŸå¯¦çš„èªæ„ç†è§£èƒ½åŠ›ã€‚
*   **ä¸²æµå›æ‡‰ (Streaming)**ï¼šæ”¯æ´æ‰“å­—æ©Ÿæ•ˆæœçš„æ–‡å­—ä¸²æµèˆ‡å³æ™‚ UI æ›´æ–°ã€‚
*   **ç¾ä»£åŒ–ä»‹é¢**ï¼šä½¿ç”¨ React + Tailwind CSS æ‰“é€ çš„ç²¾ç¾èŠå¤©ä»‹é¢ã€‚

## ğŸ› ï¸ æŠ€è¡“å †ç–Š

*   **Frontend**: React, TypeScript, Tailwind CSS (v4), Vite
*   **Backend**: Python, FastAPI, Google Generative AI SDK

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. ç’°å¢ƒæº–å‚™

ç¢ºä¿æ‚¨çš„ç³»çµ±å·²å®‰è£ï¼š
*   Node.js (v20+)
*   Python (v3.10+)
*   Google Gemini API Key ([å–å¾— Key](https://aistudio.google.com/app/apikey))

### 2. å¾Œç«¯è¨­å®š (Backend)

1.  é€²å…¥å¾Œç«¯ç›®éŒ„ï¼š
    ```bash
    cd backend
    ```

2.  å»ºç«‹è™›æ“¬ç’°å¢ƒ (å»ºè­°)ï¼š
    ```bash
    python -m venv venv
    source venv/bin/activate  # Mac/Linux
    # venv\Scripts\activate   # Windows
    ```

3.  å®‰è£ä¾è³´å¥—ä»¶ï¼š
    ```bash
    pip install -r requirements.txt
    ```

4.  è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š
    è¤‡è£½ `.env.example` ç‚º `.env`ï¼Œä¸¦å¡«å…¥æ‚¨çš„ API Keyã€‚
    ```bash
    cp .env.example .env
    ```
    ç·¨è¼¯ `.env` æª”æ¡ˆï¼š
    ```env
    GEMINI_API_KEY=æ‚¨çš„_GEMINI_API_KEY
    ```

5.  å•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨ï¼š
    ```bash
    uvicorn main:app --reload --port 8000
    ```
    å¾Œç«¯å°‡é‹è¡Œæ–¼ `http://localhost:8000`ã€‚

### 3. å‰ç«¯è¨­å®š (Frontend)

1.  é–‹å•Ÿæ–°çš„çµ‚ç«¯æ©Ÿè¦–çª—ï¼Œé€²å…¥å‰ç«¯ç›®éŒ„ï¼š
    ```bash
    cd frontend
    ```

2.  å®‰è£ä¾è³´å¥—ä»¶ï¼š
    ```bash
    npm install
    ```

3.  å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼š
    ```bash
    npm run dev
    ```
    å‰ç«¯å°‡é‹è¡Œæ–¼ `http://localhost:5173` (é è¨­)ã€‚

## ğŸ® å¦‚ä½•ä½¿ç”¨

1.  æ‰“é–‹ç€è¦½å™¨è¨ªå•å‰ç«¯é é¢ã€‚
2.  åœ¨èŠå¤©æ¡†è¼¸å…¥æ‚¨çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š
    *   **"è«‹å¹«æˆ‘æ•´ç† iPhone 15 å’Œ 16 çš„æ¯”è¼ƒè¡¨"** -> Agent æœƒå›å‚³ä¸€å€‹æ¯”è¼ƒè¡¨æ ¼ã€‚
    *   **"æˆ‘æƒ³å ±ååƒåŠ ä¸‹é€±çš„ç ”è¨æœƒ"** -> Agent æœƒå›å‚³ä¸€å€‹å ±åè¡¨å–®ã€‚
    *   **"ä»‹ç´¹ä¸€ä¸‹é¦¬æ–¯å…‹æ˜¯èª°"** -> Agent æœƒå›å‚³ä¸€å€‹äººç‰©å¡ç‰‡ã€‚
    *   **"ä½ å¥½"** -> Agent æœƒå›å‚³ä¸€èˆ¬æ–‡å­—è¨Šæ¯ã€‚

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
.
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py           # FastAPI æ‡‰ç”¨ç¨‹å¼èˆ‡ Agent é‚è¼¯
â”‚   â”œâ”€â”€ requirements.txt  # Python ä¾è³´åˆ—è¡¨
â”‚   â””â”€â”€ .env              # ç’°å¢ƒè®Šæ•¸ (éœ€è‡ªè¡Œå»ºç«‹)
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/       # UI å…ƒä»¶ (Table, Card, Form)
â”‚   â”‚   â”‚   â””â”€â”€ registry.tsx # å…ƒä»¶è¨»å†Šè¡¨
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â””â”€â”€ ag-ui.ts  # AG-UI å”å®šå®¢æˆ¶ç«¯å¯¦ä½œ
â”‚   â”‚   â””â”€â”€ App.tsx       # ä¸»æ‡‰ç”¨ç¨‹å¼ä»‹é¢
â”‚   â””â”€â”€ ...
â””â”€â”€ README.md             # èªªæ˜æ–‡ä»¶
```

## ğŸ“ AG-UI å”å®šç°¡ä»‹

æœ¬å°ˆæ¡ˆå¯¦ä½œäº†ç°¡æ˜“ç‰ˆçš„ AG-UI å”å®šï¼Œå¾Œç«¯é€é Server-Sent Events (SSE) æ ¼å¼å›å‚³ JSON ç‰©ä»¶ï¼š

*   **Message Event**:
    ```json
    { "type": "message", "role": "assistant", "content": "æ–‡å­—å…§å®¹..." }
    ```
*   **UI Update Event**:
    ```json
    {
      "type": "update_ui",
      "component": "table",
      "props": { "headers": [...], "data": [...] }
    }
    ```
